(function(){"use strict";var e={381:function(e,t,s){var n=s(144),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[s("div",{staticClass:"d-flex align-center app-bar"},[e._v(" うまぴょいビューワ ")]),s("v-spacer")],1),s("v-main",[s("router-view")],1)],1)},r=[],i={name:"App",data:()=>({})},a=i,c=s(1),l=s(453),d=s.n(l),h=s(524),u=s(286),f=s(877),v=s(631),p=(0,c.Z)(a,o,r,!1,null,"174b2364",null),m=p.exports;d()(p,{VApp:h.Z,VAppBar:u.Z,VMain:f.Z,VSpacer:v.Z});var g=s(345),C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("RecordBook",{staticClass:"home"})},b=[],y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"recordbook d-flex"},[s("FilterMenu",{ref:"filterMenu",staticClass:"filter-menu",attrs:{totalCounts:e.totalCounts,filtered:e.filtered,totalLessonCount:e.records.length,totalExpenses:e.totalExpenses},on:{click:e.onClickItem,clickReserve:e.onClickReserve}}),s("SearchResult",{staticClass:"record-view",attrs:{records:e.records,totalCounts:e.totalCounts,filtered:e.filtered,shopping:e.shopping,achievement:e.achievement}})],1)},_=[],k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"filter-menu"},[s("div",{staticClass:"d-flex justify-space-between align-center"},[s("div",{staticClass:"total"},[s("div",[e._v("レッスン "+e._s(e.totalLessonCount)+" 鞍")]),s("div",[e._v("約"+e._s(30*e.totalLessonCount)+"分騎乗")]),s("div",[e._v("出費 "+e._s(Math.ceil(e.totalExpenses/1e3))+" 千円")])]),s("div",{staticClass:"reserve-filter"},[s("div",{staticClass:"filter-type-box"},[e._v("専用馬")]),s("div",{staticClass:"checkbox d-flex justify-center",class:{checked:e.enableReserve,unchecked:!e.enableReserve},on:{mouseover:function(t){e.hoverReserve=!0},mouseout:function(t){e.hoverReserve=!1},click:e.onClickReserve}},[s("v-icon",{attrs:{size:"50",color:e.enableReserve||e.hoverReserve?"#ffffff":"#a06090"}},[e._v("mdi-check")])],1)])]),s("div",{staticClass:"time-length"},[s("div",{staticClass:"filter-type-box",on:{click:function(t){e.timeLengthOpened=!e.timeLengthOpened}}},[e._v("時間")]),s("div",{staticClass:"d-flex"},e._l(e.totalCounts.time,(function(t,n){return s("div",{key:n},[e.timeLengthOpened?[s("div",{staticClass:"filter-option-label",class:{selected:t.selected},on:{click:function(s){return e.onClickItem("time",t)}}},[e._v(e._s(t.name)+"分（"+e._s(e.getResutsCount("time",t))+"）")])]:e._e()],2)})),0)]),s("div",{staticClass:"teacher"},[s("div",{staticClass:"filter-type-box",on:{click:function(t){t.preventDefault(),e.teacherOpened=!e.teacherOpened}}},[e._v("担当")]),s("div",{staticClass:"d-flex"},e._l(e.totalCounts.teacher,(function(t,n){return s("div",{key:n},[e.teacherOpened?[s("div",{staticClass:"filter-option-label d-flex",class:{closed:!e.teacherOpened,selected:t.selected},on:{click:function(s){return e.onClickItem("teacher",t)}}},[e._v(e._s(t.name)+"（"),s("span",{staticClass:"tcy"},[e._v(e._s(e.getResutsCount("teacher",t)))]),e._v("）")])]:e._e()],2)})),0)]),s("div",{staticClass:"lesson-type"},[s("div",{staticClass:"filter-type-box",on:{click:function(t){t.preventDefault(),e.lessonOpened=!e.lessonOpened}}},[e._v("レッスン名")]),s("div",{staticClass:"d-flex"},e._l(e.totalCounts.lesson,(function(t,n){return s("div",{key:n},[e.lessonOpened?[s("div",{staticClass:"filter-option-label",class:{selected:t.selected,closed:!e.lessonOpened},on:{click:function(s){return e.onClickItem("lesson",t)}}},[e._v(e._s(t.name)+"（"),s("span",{staticClass:"tcy"},[e._v(e._s(e.getResutsCount("lesson",t)))]),e._v("）")])]:e._e()],2)})),0)]),s("div",{staticClass:"horse-name"},[s("div",{staticClass:"filter-type-box",on:{click:function(t){e.horseOpened=!e.horseOpened}}},[e._v("馬名")]),s("div",{staticClass:"d-flex flex-wrap"},e._l(e.totalCounts.horse,(function(t,n){return s("div",{key:n},[e.horseOpened?[s("div",{staticClass:"filter-option-label",class:{selected:t.selected,closed:!e.horseOpened},on:{click:function(s){return e.onClickItem("horse",t)}}},[e._v(e._s(t.name)+"（"),s("span",{staticClass:"tcy"},[e._v(e._s(e.getResutsCount("horse",t)))]),e._v("）")])]:e._e()],2)})),0)])])},j=[],x={name:"FilterMenu",props:["totalCounts","totalLessonCount","filtered","totalExpenses"],data:()=>({enableReserve:!1,hoverReserve:!1,timeLengthOpened:!0,teacherOpened:!0,lessonOpened:!0,horseOpened:!0,totalOutgiving:777777}),computed:{},methods:{onClickItem(e,t){this.$emit("click",e,t),"reserve"===e&&(this.enableReserve=!this.enableReserve)},onClickReserve(){this.enableReserve=!this.enableReserve,this.$emit("clickReserve")},getResutsCount(e,t){return this.filtered&&this.filtered.length?this.filtered.filter((s=>{for(const[n,o]of Object.entries(s))if(n===e&&o===t.name)return!0;return!1})).length:0}}},D=x,O=s(24),w=(0,c.Z)(D,k,j,!1,null,"16783d6c",null),$=w.exports;d()(w,{VIcon:O.Z});var E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"record"},[s("div",{staticClass:"horse-list"},e._l(e.filteredDates,(function(t,n){return s("div",{key:["date",n].join("-"),staticClass:"date-box"},[e.hasAnyEvent(t)?[s("div",{staticClass:"header d-flex align-center justify-content-start"},[s("div",{staticClass:"date"},[e._v(e._s(t))]),e.filteredEachDate.lesson[t].length?[s("div",{staticClass:"eventtype"}),s("div",{staticClass:"start"},[e._v("時刻")]),s("div",{staticClass:"teacher"},[e._v("担当")]),s("div",{staticClass:"lesson"},[e._v("レッスン")]),s("div",{staticClass:"horse"},[e._v("馬名")])]:e._e()],2),s("div",[e._l(e.filteredEachDate.lesson[t],(function(t,n){return s("div",{key:["lesson",n].join("-"),staticClass:"item lesson-item d-flex algin-center justify-content-start"},[s("div",{staticClass:"date"}),s("div",{staticClass:"eventtype"},[e._v("🥕")]),s("div",{staticClass:"start"},[e._v(e._s(e.getStart(t)))]),s("div",{staticClass:"teacher"},[e._v(e._s(t.teacher))]),s("div",{staticClass:"lesson"},[e._v(e._s(t.lesson))]),s("div",{staticClass:"horse"},[e._v(" "+e._s(t.horse)),t.reserve.length?s("span",[e._v("【指名】")]):e._e()])])})),s("div",e._l(e.filteredEachDate.shopping[t],(function(t,n){return s("div",{key:["lesson",n].join("-"),staticClass:"item lesson-item d-flex algin-center justify-content-start"},[s("div",{staticClass:"date"}),s("div",{staticClass:"eventtype"},[e._v("💰")]),s("div",{staticClass:"achievement"},[e._v("【出費】＜"+e._s(t.type)+"＞"+e._s(t.goods)+"："+e._s(t.amount)+"円")])])})),0),s("div",e._l(e.filteredEachDate.achievement[t],(function(t,n){return s("div",{key:["lesson",n].join("-"),staticClass:"item lesson-item d-flex algin-center justify-content-start"},[s("div",{staticClass:"date"}),s("div",{staticClass:"eventtype"},[e._v("💎")]),s("div",{staticClass:"achievement"},[e._v("【実績】"+e._s(t.achievement))])])})),0)],2)]:e._e()],2)})),0)])},R=[],A={name:"RidingCountOnHorse",props:{records:{type:Array,require:!0},totalCounts:{type:Object,require:!0},filtered:{type:Array,require:!0},shopping:{type:Array,require:!0},achievement:{type:Array,require:!0}},data(){return{}},computed:{mixed(){const e=[];return e.push([...this.filtered]),e.push([...this.shopping]),e.push([...this.achievement]),e.sort(((e,t)=>e.date>t.date?1:e.date<t.date?-1:e.date===t.date?0:void 0))},filteredDates(){const e=[];return e.push(...this.filtered.map((e=>e))),this.shopping&&e.push(...this.shopping.map((e=>e))),this.achievement&&e.push(...this.achievement.map((e=>e))),e.sort(((e,t)=>{const s=e.date,n=t.date;return s<n?1:s>n?-1:0})),Array.from(new Set(e.map((e=>this.getMonthDate(e)))))},filteredEachDate(){const e={lesson:[],shopping:[],achievement:[]};console.log(this.filteredDates);for(const t of this.filteredDates)this.$set(e.lesson,t,this.filtered.filter((e=>this.getMonthDate(e)===t))),this.shopping&&this.$set(e.shopping,t,this.shopping.filter((e=>this.getMonthDate(e)===t))),this.achievement&&this.$set(e.achievement,t,this.achievement.filter((e=>this.getMonthDate(e)===t)));return console.log(this.shopping),console.log(this.achievement),console.log(e.shopping),console.log(e.achievement),e}},methods:{hasAnyEvent(e){return console.log(e,this.filteredEachDate.lesson[e].length,this.filteredEachDate.shopping[e].length,this.filteredEachDate.achievement[e].length),this.filteredEachDate.lesson[e].length||this.filteredEachDate.shopping[e].length||this.filteredEachDate.achievement[e].length},getMonthDate(e){const t=new Date(e.date);return`${t.getMonth()+1}/${t.getDate()}`},getMonthDateDaytype(e){const t=new Date(e.date);return`${t.getMonth()+1}/${t.getDate()}(${e.daytype})`},getStart(e){const t=new Date(e.start);return`${t.getHours()}:${t.getMinutes()}`}}},S=A,Z=(0,c.Z)(S,E,R,!1,null,"790edb2b",null),M=Z.exports,B=s(486),T=s.n(B),F={name:"HelloWorld",components:{FilterMenu:$,SearchResult:M},data:()=>({shizuoka:null,records:[],shopping:[],achievement:[],mode:null,horses:[],totalCounts:{time:[],teacher:[],lesson:[],reserve:[],horse:[]},filter:{time:[],teacher:[],lesson:[],reserve:[],horse:[]}}),computed:{totalExpenses(){if(0===this.shopping.length)return 0;const e=this.records.reduce(((e,t)=>{const s=t.time/45,n="祝"===t.holiday,o=["土","日"].some((e=>e===t.daytype)),r={weekday:1650,weekend:2200};return n||o?e+r.weekend*s:e+r.weekday*s}),0),t=this.shopping.reduce(((e,t)=>e+t.amount),0),s=220*new Set(this.records.map((e=>this.getDate(e)))).size;return t+e+s},filtered(){const e=this.totalCounts.reserve.find((e=>""!==e.name)),t=e&&e.selected,s=Object.entries(this.totalCounts).map((([e,s])=>{const n=s.filter((e=>e.selected));return 0===n.length?this.records:t||"reserve"!==e?this.records.filter((t=>n.some((s=>t[e]===s.name)))):this.records})).reduce(((e,t)=>T().intersectionBy(e,t,"id")),[...this.records]);return s},totalNumberRides(){return this.records?this.records.filter((e=>e.lesson.length>0)).length:0},modeStates(){return{simple:0,detail:1,emoji:2,record:3}},isSimple(){return this.mode===this.modeStates.simple},isDetail(){return this.mode===this.modeStates.detail},isDots(){return this.mode===this.modeStates.emoji},isRecord(){return this.mode===this.modeStates.record}},watch:{},mounted(){fetch("https://script.google.com/macros/s/AKfycbzEaEjzjYnawZ7eA4a70Zj0TMWecON8FH0F5RFicX8rac6PTSKZABfF5YAV9xrXMqve/exec").then((e=>e.json())).then((e=>{this.achievement=[...e.achievement];const t=[{ja:"日付",en:"date"},{ja:"実績",en:"achievement"}];for(const o of this.achievement)for(const e of t)this.$set(o,e.en,o[e.ja]);for(let o=0;o<this.achievement.length;o++)this.$set(this.achievement[o],"id",o),this.$set(this.achievement[o],"datatype","achievement");this.shopping=[...e.shopping];const s=[{ja:"日付",en:"date"},{ja:"種類",en:"type"},{ja:"明細",en:"goods"},{ja:"価格",en:"amount"}];for(const o of this.shopping)for(const e of s)this.$set(o,e.en,o[e.ja]);for(let o=0;o<this.shopping.length;o++)this.$set(this.shopping[o],"id",o),this.$set(this.shopping[o],"datatype","shopping");this.records=[...e.lesson];const n=[{ja:"レッスン時間",en:"time"},{ja:"担当",en:"teacher"},{ja:"コメント",en:"comment"},{ja:"レッスン名",en:"lesson"},{ja:"場所",en:"place"},{ja:"天候",en:"weather"},{ja:"専用馬",en:"reserve"},{ja:"日付",en:"date"},{ja:"曜日",en:"daytype"},{ja:"祝日",en:"holiday"},{ja:"終了時刻",en:"end"},{ja:"開始時刻",en:"start"},{ja:"馬匹名",en:"horse"}];for(const o of this.records)for(const e of n)this.$set(o,e.en,o[e.ja]);this.records.sort(((e,t)=>{if(e.date<t.date)return 1;if(e.date>t.date)return-1;if(e.date===t.date){if(e.start>t.start)return 1;if(e.start<t.start)return-1}return 0}));for(let o=0;o<this.records.length;o++)this.$set(this.records[o],"id",o),this.$set(this.records[o],"datatype","records");this.calcTotalCount(e)}))},methods:{getDate(e){const t=new Date(e.date);return`${t.getMonth()+1}/${t.getDate()}(${e.daytype})`},onClickReserve(){for(const e of this.totalCounts.reserve)""===e.name?this.$set(e,"selected",!1):this.$set(e,"selected",!e.selected)},onClickItem(e,t){const s=this.totalCounts[e].find((e=>e.name===t.name));this.$set(s,"selected",!s.selected)},calcTotalCount(){const e=["time","teacher","lesson","reserve","horse"];for(const t of e)for(const e of this.records)this.totalCounts[t].some((s=>s.name===e[t]))||this.totalCounts[t].push({name:e[t],count:this.records.filter((s=>s[t]===e[t])).length,selected:!1});this.totalCounts.horse.sort(((e,t)=>{const s=e.name,n=t.name;return s.length>n.length?1:s.length<n.length?-1:0}))},lessonClass(e){return{"basic-bc":"ベーシックBC"===e,"basic-a":"ベーシックA"===e,"basic-galop-ab":"ベーシック駈歩AB"===e}},lessonName(e){return"ベーシックBC"===e?"BC":"ベーシックA"===e?"A":"ベーシック駈歩AB"===e?"駈歩AB":""},onSortYounger(){this.shizuoka.forEach((e=>{e.belonging.sort(((e,t)=>{const s=this.date2age(e.birthday),n=this.date2age(t.birthday);return s>n?1:s<n?-1:0}))}))},onSortColor(){this.shizuoka.forEach((e=>{e.belonging.sort(((e,t)=>{const s=e.color,n=t.color;return s>n?1:s<n?-1:0}))}))},date2age(e){const t=new Date,s=new Date(e);let n=t.getFullYear()-s.getFullYear();const o=t.getMonth()-s.getMonth();return(o<0||0===o&&t.getDate()<s.getDate())&&n--,n},rgb2emojiStyle(e){return{color:"transparent",textShadow:`0 0 0 ${e}`}},rgb2style(e){const t=e=>("#"===e.slice(0,1)&&(e=e.slice(1)),[e.slice(0,2),e.slice(2,4),e.slice(4,6)].map((e=>parseInt(e,16)))),s=t(e).reduce(((e,t)=>e+t/3),0),n=s>128?"#333333":"#cccccc";return{backgroundColor:e,color:n}},color2rgb(e){const t=[{color:"鹿毛",rgb:["#664032"]},{color:"鹿粕毛",rgb:["#664032"]},{color:"鹿駁毛",rgb:["#664032"]},{color:"駁鹿毛",rgb:["#664032"]},{color:"黒鹿毛",rgb:["#332016"]},{color:"青鹿毛",rgb:["#1f222d"]},{color:"青毛",rgb:["#272830"]},{color:"青粕毛",rgb:["#272830"]},{color:"芦毛",rgb:["#cbd3dd"]},{color:"栗毛",rgb:["#c69e6e"]},{color:"栗粕毛",rgb:["#c69e6e"]},{color:"栗駁毛",rgb:["#c69e6e"]},{color:"駁栗毛",rgb:["#c69e6e"]},{color:"尾花栗毛",rgb:["#c69e6e","#e4cc9e"]},{color:"栃栗毛",rgb:["#67493a"]},{color:"白毛",rgb:["#eeeeee"]},{color:"河原毛",rgb:["#a8804d"]},{color:"月毛",rgb:["#d5ae80","#c8bca0"]},{color:"小班",rgb:["#cabeae"]},{color:"粕毛",rgb:["#ebd7d6"]},{color:"薄墨毛",rgb:["#3b3a3c"]}],s=t.find((t=>e===t.color));return void 0!==s?s.rgb:null}}},L=F,I=(0,c.Z)(L,y,_,!1,null,"0da61a6d",null),P=I.exports,q={name:"Home",components:{RecordBook:P}},z=q,H=(0,c.Z)(z,C,b,!1,null,null,null),N=H.exports;n.Z.use(g.Z);const V=[{path:"/",name:"Home",component:N},{path:"/about",name:"About",component:()=>s.e(443).then(s.bind(s,829))}],Y=new g.Z({mode:"history",base:"/nrca/",routes:V});var K=Y,W=s(629);n.Z.use(W.ZP);var X=new W.ZP.Store({state:{},mutations:{},actions:{},modules:{}}),G=s(910);n.Z.use(G.Z);var J=new G.Z({icons:{iconfont:"mdi"}});n.Z.config.productionTip=!1,new n.Z({router:K,store:X,vuetify:J,render:e=>e(m)}).$mount("#app")}},t={};function s(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(r.exports,r,r.exports,s),r.loaded=!0,r.exports}s.m=e,function(){var e=[];s.O=function(t,n,o,r){if(!n){var i=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],r=e[d][2];for(var a=!0,c=0;c<n.length;c++)(!1&r||i>=r)&&Object.keys(s.O).every((function(e){return s.O[e](n[c])}))?n.splice(c--,1):(a=!1,r<i&&(i=r));if(a){e.splice(d--,1);var l=o();void 0!==l&&(t=l)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,o,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,n){return s.f[n](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/about.34672367.js"}}(),function(){s.miniCssF=function(e){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="nrca:";s.l=function(n,o,r,i){if(e[n])e[n].push(o);else{var a,c;if(void 0!==r)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var h=l[d];if(h.getAttribute("src")==n||h.getAttribute("data-webpack")==t+r){a=h;break}}a||(c=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",t+r),a.src=n),e[n]=[o];var u=function(t,s){a.onerror=a.onload=null,clearTimeout(f);var o=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((function(e){return e(s)})),t)return t(s)},f=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),c&&document.head.appendChild(a)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/nrca/"}(),function(){var e={143:0};s.f.j=function(t,n){var o=s.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise((function(s,n){o=e[t]=[s,n]}));n.push(o[2]=r);var i=s.p+s.u(t),a=new Error,c=function(n){if(s.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",a.name="ChunkLoadError",a.type=r,a.request=i,o[1](a)}};s.l(i,c,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,r,i=n[0],a=n[1],c=n[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(o in a)s.o(a,o)&&(s.m[o]=a[o]);if(c)var d=c(s)}for(t&&t(n);l<i.length;l++)r=i[l],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},n=self["webpackChunknrca"]=self["webpackChunknrca"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(381)}));n=s.O(n)})();
//# sourceMappingURL=app.1711e251.js.map